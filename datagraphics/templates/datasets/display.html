{% extends 'base.html' %}

{% block head_title %}
{% if g.current_user %}
My datasets
{% else %}
Datasets
{% endif %}
{% endblock %}

{% block body_title %}
{% if g.current_user %}
My datasets
{% else %}
Datasets
{% endif %}
{% endblock %}

{% block meta %}
{% if g.current_user %}
<div>
  <a href="{{ url_for('api_datasets.user', username=g.current_user['username']) }}"
     class="badge badge-dark">API</a>
</div>
{% else %}
<div>
  <a href="{{ url_for('api_datasets.public') }}"
     class="badge badge-dark">API</a>
</div>
{% endif %}
{% endblock %} {# block meta #}

{% block main %}
{{ macros.datasets_table(datasets, show_public=show_public, show_owner=True) }}
{% endblock %} {# block main #}

{% block actions %}
{% if g.current_user %}
<div class="mb-2">
  {% include 'dataset/create.html' %}
</div>
{% endif %} {# if g.current_user #}
{% endblock %} {# block actions #}

{% block javascript %}
<script>
  $(function() {
    $("#datasets").DataTable( {
      pagingType: "full_numbers",
      pageLength: 25,
      order: [[{{ 4 + show_public }}, "desc"]]
    });
  });
</script>
{% endblock %}
